<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ME405 Library: encoder.Encoder Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ME405 Library
   &#160;<span id="projectnumber">Version 0.32</span>
   </div>
   <div id="projectbrief">Python library in support of ME405 class</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classencoder_1_1Encoder.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classencoder_1_1Encoder-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">encoder.Encoder Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>An encoder driver object.  
 <a href="classencoder_1_1Encoder.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a34939827412badc93f8744540676e833"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classencoder_1_1Encoder.html#a34939827412badc93f8744540676e833">__init__</a> (self, pins, <a class="el" href="classencoder_1_1Encoder.html#a8e9c3e1317abc4f6fbe95468c69223d1">timer</a>, channels)</td></tr>
<tr class="memdesc:a34939827412badc93f8744540676e833"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor for the encoder driver.  <a href="#a34939827412badc93f8744540676e833">More...</a><br /></td></tr>
<tr class="separator:a34939827412badc93f8744540676e833"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1c1535160682500f5214f45d8197027"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classencoder_1_1Encoder.html#aa1c1535160682500f5214f45d8197027">read</a> (self)</td></tr>
<tr class="memdesc:aa1c1535160682500f5214f45d8197027"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the encoder's traveled distance.  <a href="#aa1c1535160682500f5214f45d8197027">More...</a><br /></td></tr>
<tr class="separator:aa1c1535160682500f5214f45d8197027"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae238ecdbcbce8a193c2e0ffbb4d1dd29"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classencoder_1_1Encoder.html#ae238ecdbcbce8a193c2e0ffbb4d1dd29">zero</a> (self)</td></tr>
<tr class="memdesc:ae238ecdbcbce8a193c2e0ffbb4d1dd29"><td class="mdescLeft">&#160;</td><td class="mdescRight">Zeroes the encoder.  <a href="#ae238ecdbcbce8a193c2e0ffbb4d1dd29">More...</a><br /></td></tr>
<tr class="separator:ae238ecdbcbce8a193c2e0ffbb4d1dd29"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a8e9c3e1317abc4f6fbe95468c69223d1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classencoder_1_1Encoder.html#a8e9c3e1317abc4f6fbe95468c69223d1">timer</a></td></tr>
<tr class="memdesc:a8e9c3e1317abc4f6fbe95468c69223d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Timer object, with the provided timer ID, prescaler=0, and period=65535.  <a href="#a8e9c3e1317abc4f6fbe95468c69223d1">More...</a><br /></td></tr>
<tr class="separator:a8e9c3e1317abc4f6fbe95468c69223d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c15eb087b5869c188cf94e53ea3b4f5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classencoder_1_1Encoder.html#a9c15eb087b5869c188cf94e53ea3b4f5">position</a></td></tr>
<tr class="memdesc:a9c15eb087b5869c188cf94e53ea3b4f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Position of the motor the last time <a class="el" href="classencoder_1_1Encoder.html#aa1c1535160682500f5214f45d8197027" title="Gets the encoder&#39;s traveled distance. ">read()</a> was called, according to to the timer counter.  <a href="#a9c15eb087b5869c188cf94e53ea3b4f5">More...</a><br /></td></tr>
<tr class="separator:a9c15eb087b5869c188cf94e53ea3b4f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2057baa7c3e6631e2fb30680486a2403"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classencoder_1_1Encoder.html#a2057baa7c3e6631e2fb30680486a2403">time</a></td></tr>
<tr class="memdesc:a2057baa7c3e6631e2fb30680486a2403"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change in position from the last <a class="el" href="classencoder_1_1Encoder.html#aa1c1535160682500f5214f45d8197027" title="Gets the encoder&#39;s traveled distance. ">read()</a> call, according to the timer counter.  <a href="#a2057baa7c3e6631e2fb30680486a2403">More...</a><br /></td></tr>
<tr class="separator:a2057baa7c3e6631e2fb30680486a2403"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac16be7b70ef28d19b75108d422f82e28"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classencoder_1_1Encoder.html#ac16be7b70ef28d19b75108d422f82e28">distance</a></td></tr>
<tr class="memdesc:ac16be7b70ef28d19b75108d422f82e28"><td class="mdescLeft">&#160;</td><td class="mdescRight">Distance traveled by the motor (in encoder ticks) relative to the current zero.  <a href="#ac16be7b70ef28d19b75108d422f82e28">More...</a><br /></td></tr>
<tr class="separator:ac16be7b70ef28d19b75108d422f82e28"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>An encoder driver object. </p>
<p>The <a class="el" href="classencoder_1_1Encoder.html" title="An encoder driver object. ">Encoder</a> class enables the user to implement multiple encoders without needing to rewrite code for each one. All encoders can run and be read from independently. All encoders can be zeroed independently. The class also attempts to handle timer counter underflow/overflow errors. </p><dl class="section author"><dt>Author</dt><dd>Rahul Goyal, Cameron Kao, and Harry Whinnery </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>License Info </dd></dl>
<dl class="section date"><dt>Date</dt><dd>January 24, 2019 </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a34939827412badc93f8744540676e833"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34939827412badc93f8744540676e833">&#9670;&nbsp;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def encoder.Encoder.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>pins</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>timer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>channels</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor for the encoder driver. </p>
<p>The constructor is called by passing the pin objects (as a list) corresponding to the encoder, the corresponding timer ID, and the corresponding channels (as a list). The channels should be passed with respect to the order in which the pins objects were passed. Corresponding pins, timers, and channels can be found in the user manual of the microcontroller.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pins</td><td>Pin objects for the encoder are passed as a list to specify the pins to which the physical encoder is attached.</td></tr>
    <tr><td class="paramname">timer</td><td>Timer ID that corresponds to the pins being used. Refer to the user manual of the microcontroller to determine the correct timer ID.</td></tr>
    <tr><td class="paramname">channels</td><td>Channels that correspond to the pins. The channels should be passed with with respect to the order in which the pins objects were passed. Refer to the user manual of the microcontroller to to determined the correct channel for each pin. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aa1c1535160682500f5214f45d8197027"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1c1535160682500f5214f45d8197027">&#9670;&nbsp;</a></span>read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def encoder.Encoder.read </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the encoder's traveled distance. </p>
<p>The "read()" function is used to return the distance traveled by the motor in units of encoder ticks, as well as the velocity, which is in units of encoder ticks/second as a list. The function handles underflow and overflow in the 16-bit timer counter by calculating the more likely direction of travel in the case of large changes in value. This is most effective and accurate when the read function is called quickly enough. "Quickly" is determined as a function of motor speed; a motor spinning more quickly will require the <a class="el" href="classencoder_1_1Encoder.html#aa1c1535160682500f5214f45d8197027" title="Gets the encoder&#39;s traveled distance. ">read()</a> function to be called more frequently for underflow/overflow to be handled properly. </p>

</div>
</div>
<a id="ae238ecdbcbce8a193c2e0ffbb4d1dd29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae238ecdbcbce8a193c2e0ffbb4d1dd29">&#9670;&nbsp;</a></span>zero()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def encoder.Encoder.zero </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Zeroes the encoder. </p>
<p>The zero function resets the timer counter, position of the motor, and distance traveled by the motor. If the motor hasn't moved, a subsquent call of the <a class="el" href="classencoder_1_1Encoder.html#aa1c1535160682500f5214f45d8197027" title="Gets the encoder&#39;s traveled distance. ">read()</a> function will return 0. All subsequent calls of the <a class="el" href="classencoder_1_1Encoder.html#aa1c1535160682500f5214f45d8197027" title="Gets the encoder&#39;s traveled distance. ">read()</a> function will return distance traveled (in encoder ticks) relative to this new zero position. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ac16be7b70ef28d19b75108d422f82e28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac16be7b70ef28d19b75108d422f82e28">&#9670;&nbsp;</a></span>distance</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">encoder.Encoder.distance</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Distance traveled by the motor (in encoder ticks) relative to the current zero. </p>
<p>Accounts for timer counter underflow/overflow. </p>

</div>
</div>
<a id="a9c15eb087b5869c188cf94e53ea3b4f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c15eb087b5869c188cf94e53ea3b4f5">&#9670;&nbsp;</a></span>position</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">encoder.Encoder.position</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Position of the motor the last time <a class="el" href="classencoder_1_1Encoder.html#aa1c1535160682500f5214f45d8197027" title="Gets the encoder&#39;s traveled distance. ">read()</a> was called, according to to the timer counter. </p>
<p>Position of the motor in the current <a class="el" href="classencoder_1_1Encoder.html#aa1c1535160682500f5214f45d8197027" title="Gets the encoder&#39;s traveled distance. ">read()</a> call, according to the timer counter.</p>

</div>
</div>
<a id="a2057baa7c3e6631e2fb30680486a2403"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2057baa7c3e6631e2fb30680486a2403">&#9670;&nbsp;</a></span>time</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">encoder.Encoder.time</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Change in position from the last <a class="el" href="classencoder_1_1Encoder.html#aa1c1535160682500f5214f45d8197027" title="Gets the encoder&#39;s traveled distance. ">read()</a> call, according to the timer counter. </p>
<p>Sets the time variable to the current value of time.ticks_us(), which is an arbitrary reference point.</p>
<p>Stores the previous value for time Fetches the current time</p>

</div>
</div>
<a id="a8e9c3e1317abc4f6fbe95468c69223d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e9c3e1317abc4f6fbe95468c69223d1">&#9670;&nbsp;</a></span>timer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">encoder.Encoder.timer</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Timer object, with the provided timer ID, prescaler=0, and period=65535. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="encoder_8py.html">encoder.py</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>encoder</b></li><li class="navelem"><a class="el" href="classencoder_1_1Encoder.html">Encoder</a></li>
    <li class="footer">Generated on Sun Mar 17 2019 23:04:32 for ME405 Library by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
